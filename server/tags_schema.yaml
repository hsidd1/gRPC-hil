{
  "type": "object",
  "patternProperties": {
    ".*": {
      "type": "object",
      "properties": {
        "description": {"type": "string"},
        "compareOp": {
          "type": "string",
          "enum": ["GELE", "GTLT", "EQ", "GT", "LT", "GE", "LE", "LOG"]
        },
        "type": {"type": "string"},
        "unit": {"type": "string"},
        "upperLimit": {"type": "number"},
        "lowerLimit": {"type": "number"},
        "expectedVal": {
          "anyOf": [
            {"type": "string"},
            {"type": "boolean"},
            {"type": "integer"},
            {"type": "number"}
          ]
        }
      },
      "required": ["description", "compareOp", "type", "unit"],
      "allOf": [
        {
          "if": {
            "properties": {
              "compareOp": {"const": "EQ"}
            }
          },
          "required": ["expectedVal"]
        },
        {
          "if": {
            "properties": {
              "compareOp": {"enum": ["GELE", "GTLT"]}
            }
          },
          "required": ["upperLimit", "lowerLimit"]
        },
        {
          "if": {
            "properties": {
              "compareOp": {"enum": ["GT", "GE"]}
            }
          },
          "required": ["lowerLimit"]
        },
        {
          "if": {
            "properties": {
              "compareOp": {"enum": ["LT", "LE"]}
            }
          },
          "required": ["upperLimit"]
        },
        {
          "if": {
            "properties": {
              "compareOp": {"enum": ["LOG"]}
            }
          },
          "not": {
            "required": ["upperLimit", "lowerLimit", "expectedVal"]
          }
        }
      ],
      "additionalProperties": false
    }
  }
}
